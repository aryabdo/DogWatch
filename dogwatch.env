# Configurações padrão do Net Guardian
# Editável em: /etc/dogwatch/config.env  (será criado/atualizado pelo install)
#
# Portas que DEVEM estar sempre abertas (espaço separado)
MANDATORY_OPEN_PORTS="22 16309"
# Portas extras a monitorar (TCP)
EXTRA_PORTS=""
# Interface(s) preferenciais de rede (vazio = autodetect)
PREFERRED_INTERFACES=""
# Comandos/URLs para testar internet (saída)
PING_TARGETS="1.1.1.1 8.8.8.8"
HTTP_TARGETS="https://www.google.com https://cloudflare.com"
# Flag para não reverter manualmente portas alteradas pelo menu
MANUAL_OVERRIDE_PORTS=0
# Verbozidade do log (INFO|DEBUG)
LOG_LEVEL="INFO"
# Diretórios (não alterar sem necessidade)
DATA_DIR="/opt/dogwatch"
BACKUP_DIR="$DATA_DIR/backups"
LOG_DIR="/var/log/dogwatch"
STATE_DIR="$DATA_DIR/state"
# Intervalos
MONITOR_INTERVAL_SECONDS=300      # 5 min
BACKUP_INTERVAL_SECONDS=1800      # 30 min
MAX_ROTATING_BACKUPS=10
# Serviços que podem afetar conectividade (checagem/ajuste)
FIREWALLS="ufw firewalld"
# Habilitar reparo agressivo (desativar/instalar/desinstalar firewalls que bloqueiam)
AGGRESSIVE_REPAIR=1
# Comandos auxiliares (override se necessário)
CURL_BIN="$(command -v curl || echo /usr/bin/curl)"
NC_BIN="$(command -v nc || echo /usr/bin/nc)"
JQ_BIN="$(command -v jq || echo /usr/bin/jq)"
RSYNC_BIN="$(command -v rsync || echo /usr/bin/rsync)"
SYSCTL_BIN="$(command -v sysctl || echo /usr/sbin/sysctl)"
